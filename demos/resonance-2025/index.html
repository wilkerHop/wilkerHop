<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resonance 2025: The Era of Adaptive Calm</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&display=swap');

        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            background-color: #FDFCF8; /* Warm off-white */
            color: #2D2A26; /* Soft charcoal */
        }

        /* Strict Chart Container Styling */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px; 
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }

        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #F0EFE9; }
        ::-webkit-scrollbar-thumb { background: #D1CEC7; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #B0ADA6; }

        /* Interactive Elements */
        .trend-card {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .trend-card.active {
            border-left: 4px solid #D97757; /* Terracotta Accent */
            background-color: #F4F2ED;
        }
        .nav-btn.active {
            color: #D97757;
            border-bottom: 2px solid #D97757;
        }

        /* Animation utilities */
        .fade-in-up {
            animation: fadeInUp 0.5s ease-out forwards;
        }
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
    <!-- Chosen Palette: "Organic Modernism" - Preserved. -->
    <!-- Application Structure: Updated with "Resonance 2025" branding strategy. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
</head>
<body class="antialiased selection:bg-orange-100">

    <!-- Navigation -->
    <nav class="sticky top-0 z-50 bg-[#FDFCF8]/95 backdrop-blur-sm border-b border-stone-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16 items-center">
                <div class="font-bold text-xl tracking-tight text-stone-800 flex items-center gap-2">
                    <span class="w-2 h-2 rounded-full bg-[#D97757]"></span>
                    Resonance<span class="text-stone-400 font-light">2025</span>
                </div>
                <div class="hidden md:flex space-x-8">
                    <button onclick="navigate('section-summary')" class="nav-btn active px-3 py-2 text-sm font-medium text-stone-600 hover:text-[#D97757] transition-colors">Summary</button>
                    <button onclick="navigate('section-trends')" class="nav-btn px-3 py-2 text-sm font-medium text-stone-600 hover:text-[#D97757] transition-colors">Trend Radar</button>
                    <button onclick="navigate('section-data')" class="nav-btn px-3 py-2 text-sm font-medium text-stone-600 hover:text-[#D97757] transition-colors">The Data</button>
                    <button onclick="navigate('section-future')" class="nav-btn px-3 py-2 text-sm font-medium text-stone-600 hover:text-[#D97757] transition-colors">2026 Promises</button>
                </div>
                <!-- Mobile Menu Placeholder -->
                <div class="md:hidden">
                    <button class="text-stone-600 font-medium">Menu</button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content Container -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-20">

        <!-- SECTION 1: Executive Summary -->
        <section id="section-summary" class="animate-fade-in">
            <div class="bg-[#F4F2ED] rounded-2xl p-8 md:p-12 shadow-sm border border-stone-100 relative overflow-hidden">
                <!-- Decorative background element -->
                <div class="absolute top-0 right-0 w-64 h-64 bg-[#D97757] opacity-5 rounded-full filter blur-3xl transform translate-x-1/2 -translate-y-1/2"></div>
                
                <div class="max-w-3xl mx-auto text-center space-y-6 relative z-10">
                    <div class="inline-block px-3 py-1 bg-white rounded-full border border-stone-200 text-xs font-semibold text-stone-500 uppercase tracking-widest mb-2">Annual Industry Report</div>
                    <h1 class="text-4xl md:text-6xl font-bold text-stone-900 tracking-tight mb-4">
                        Resonance <span class="text-[#D97757]">2025</span>
                    </h1>
                    <h2 class="text-xl md:text-2xl font-light text-stone-600">The Era of Adaptive Calm</h2>
                    <p class="text-lg text-stone-600 leading-relaxed mt-4">
                        We have pivoted from the <em>Attention Economy</em> to the <strong>Intention Economy</strong>. <br class="hidden md:inline"> Resonance 2025 synthesizes data from 5,000+ digital products to map the new standard of anticipatory, calm, and sustainable design.
                    </p>
                    <div class="flex justify-center gap-4 mt-8">
                        <div class="flex flex-col items-center p-4 bg-white rounded-lg shadow-sm w-32 border border-stone-100">
                            <span class="text-2xl font-bold text-[#8DA399]">92%</span>
                            <span class="text-xs text-stone-500 uppercase tracking-wide mt-1">AI Adoption</span>
                        </div>
                        <div class="flex flex-col items-center p-4 bg-white rounded-lg shadow-sm w-32 border border-stone-100">
                            <span class="text-2xl font-bold text-[#D97757]">-40%</span>
                            <span class="text-xs text-stone-500 uppercase tracking-wide mt-1">Cognitive Load</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 2: The Trend Radar (With Visual Snippets) -->
        <section id="section-trends" class="scroll-mt-24">
            <div class="mb-8">
                <h2 class="text-3xl font-bold text-stone-800 mb-3">The Trend Landscape</h2>
                <p class="text-stone-600 max-w-2xl">
                    Explore the five dominant movements shaping the web. Select a trend from the list to see a <span class="text-[#D97757] font-semibold">live visual snippet</span> and its analytical profile.
                </p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-12 gap-8">
                <!-- Left: Trend List -->
                <div class="lg:col-span-4 space-y-3" id="trend-list">
                    <!-- Dynamic JS content here -->
                </div>

                <!-- Right: Visualization & Details -->
                <div class="lg:col-span-8 space-y-6">
                    
                    <!-- Visual Snippet Box -->
                    <div class="bg-white rounded-xl border border-stone-200 p-6 shadow-sm">
                        <div class="flex justify-between items-center mb-4">
                            <h3 id="trend-title" class="text-xl font-bold text-stone-800">Select a Trend</h3>
                            <span class="text-xs font-medium text-stone-400 uppercase tracking-wider">Visual Snippet</span>
                        </div>
                        
                        <!-- The Snippet Container -->
                        <div id="trend-preview" class="w-full bg-stone-50 rounded-lg border border-stone-100 p-8 flex items-center justify-center min-h-[200px] overflow-hidden">
                            <!-- Dynamic CSS Visuals injected here -->
                        </div>

                        <p id="trend-desc" class="text-stone-600 mt-4 text-sm leading-relaxed border-l-4 border-[#D97757] pl-4">
                            Interact with the list on the left to analyze specific design movements.
                        </p>
                    </div>

                    <!-- Radar Chart & Metrics -->
                    <div class="bg-white rounded-xl border border-stone-200 p-6 shadow-sm grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="chart-container md:h-[250px]">
                            <canvas id="trendRadarChart"></canvas>
                        </div>
                        <div class="flex flex-col justify-center space-y-4">
                            <div>
                                <span class="block text-xs font-semibold text-stone-400 uppercase">Primary Driver</span>
                                <span id="trend-driver" class="block text-lg text-stone-800 font-medium">-</span>
                            </div>
                            <div>
                                <span class="block text-xs font-semibold text-stone-400 uppercase">Business Value</span>
                                <span id="trend-value" class="block text-lg text-stone-800 font-medium">-</span>
                            </div>
                            <div class="pt-4 border-t border-stone-100">
                                <span class="block text-xs font-semibold text-stone-400 uppercase mb-2">Key Characteristic</span>
                                <div id="trend-tags" class="flex flex-wrap gap-2">
                                    <!-- Dynamic tags -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 3: Data Deep Dive -->
        <section id="section-data" class="scroll-mt-24">
            <div class="mb-8 flex flex-col md:flex-row md:items-end justify-between gap-4">
                <div>
                    <h2 class="text-3xl font-bold text-stone-800 mb-3">Performance & User Metrics</h2>
                    <p class="text-stone-600 max-w-2xl">
                        Quantitative analysis of 2025's design shifts. Compare how new design patterns impact user retention and server costs.
                    </p>
                </div>
                <!-- Filter Control -->
                <div class="bg-white p-1 rounded-lg border border-stone-200 inline-flex shadow-sm">
                    <button onclick="updateDataView('retention')" class="data-filter-btn active px-4 py-2 text-sm font-medium rounded-md bg-[#F4F2ED] text-stone-800 hover:bg-stone-50 transition-all">User Retention</button>
                    <button onclick="updateDataView('performance')" class="data-filter-btn px-4 py-2 text-sm font-medium rounded-md text-stone-500 hover:bg-stone-50 hover:text-stone-800 transition-all">Tech Performance</button>
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <!-- Bar Chart -->
                <div class="bg-white rounded-xl border border-stone-200 p-6 shadow-sm hover:shadow-md transition-shadow">
                    <h3 class="text-lg font-semibold text-stone-700 mb-4">Impact Analysis (Legacy vs. Modern)</h3>
                    <div class="chart-container">
                        <canvas id="comparisonChart"></canvas>
                    </div>
                </div>

                <!-- Doughnut Chart -->
                <div class="bg-white rounded-xl border border-stone-200 p-6 shadow-sm hover:shadow-md transition-shadow">
                    <h3 class="text-lg font-semibold text-stone-700 mb-4">Device Usage Distribution 2025</h3>
                    <div class="chart-container">
                        <canvas id="deviceChart"></canvas>
                    </div>
                    <div class="mt-4 text-sm text-stone-600 text-center bg-stone-50 p-2 rounded">
                        <p>Spatial/AR devices have grown by <span class="text-[#D97757] font-bold">+150%</span> since 2023.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 4: The 2026 Promise -->
        <section id="section-future" class="scroll-mt-24 pb-12">
            <div class="mb-10 text-center">
                <h2 class="text-3xl font-bold text-stone-800 mb-3">The Promise of 2026</h2>
                <p class="text-stone-600 max-w-2xl mx-auto">
                    The Resonance roadmap for the immediate future. Click on a quarter to reveal the predicted technology standard.
                </p>
            </div>

            <div class="relative max-w-4xl mx-auto">
                <div class="absolute left-1/2 transform -translate-x-1/2 h-full w-0.5 bg-stone-200"></div>

                <div class="space-y-12" id="timeline-container">
                    <!-- Q1 2026 -->
                    <div class="relative flex items-center justify-between group cursor-pointer" onclick="this.classList.toggle('active')">
                        <div class="w-5/12 text-right pr-8">
                            <h4 class="text-xl font-bold text-stone-800">Q1 2026</h4>
                            <span class="text-sm text-[#D97757] font-medium">The Biometric Web</span>
                        </div>
                        <div class="absolute left-1/2 transform -translate-x-1/2 w-4 h-4 bg-stone-300 rounded-full border-4 border-[#FDFCF8] group-hover:bg-[#D97757] transition-colors z-10"></div>
                        <div class="w-5/12 pl-8">
                            <div class="bg-white p-4 rounded-lg shadow-sm border border-stone-100 transition-all group-hover:-translate-y-1 group-hover:shadow-md">
                                <h5 class="font-semibold text-stone-700">Emotion-Responsive UI</h5>
                                <p class="text-sm text-stone-500 mt-2">Real-time layout simplification based on cursor velocity and scroll frustration metrics.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Q2 2026 -->
                    <div class="relative flex items-center justify-between group cursor-pointer">
                        <div class="w-5/12 text-right pr-8">
                            <div class="bg-white p-4 rounded-lg shadow-sm border border-stone-100 transition-all group-hover:-translate-y-1 group-hover:shadow-md">
                                <h5 class="font-semibold text-stone-700">No-Code 3D Engines</h5>
                                <p class="text-sm text-stone-500 mt-2">Lightweight, immersive 3D product backgrounds become standard on e-commerce sites.</p>
                            </div>
                        </div>
                        <div class="absolute left-1/2 transform -translate-x-1/2 w-4 h-4 bg-stone-300 rounded-full border-4 border-[#FDFCF8] group-hover:bg-[#8DA399] transition-colors z-10"></div>
                        <div class="w-5/12 pl-8">
                            <h4 class="text-xl font-bold text-stone-800">Q2 2026</h4>
                            <span class="text-sm text-[#8DA399] font-medium">Depth Democratization</span>
                        </div>
                    </div>

                    <!-- Q3 2026 -->
                    <div class="relative flex items-center justify-between group cursor-pointer">
                        <div class="w-5/12 text-right pr-8">
                            <h4 class="text-xl font-bold text-stone-800">Q3 2026</h4>
                            <span class="text-sm text-[#D97757] font-medium">The End of Search Bars</span>
                        </div>
                        <div class="absolute left-1/2 transform -translate-x-1/2 w-4 h-4 bg-stone-300 rounded-full border-4 border-[#FDFCF8] group-hover:bg-[#D97757] transition-colors z-10"></div>
                        <div class="w-5/12 pl-8">
                            <div class="bg-white p-4 rounded-lg shadow-sm border border-stone-100 transition-all group-hover:-translate-y-1 group-hover:shadow-md">
                                <h5 class="font-semibold text-stone-700">Predictive Navigation</h5>
                                <p class="text-sm text-stone-500 mt-2">AI agents pre-fetch content based on context, replacing keywords with intent mapping.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-white border-t border-stone-200 mt-12 py-12">
        <div class="max-w-7xl mx-auto px-4 text-center">
            <p class="text-stone-500 text-sm">Â© 2025 Resonance Report. Built for interactive analysis.</p>
        </div>
    </footer>

    <!-- JavaScript Implementation -->
    <script>
        // --- 1. DATA STORE (Enhanced with Snippet HTML) ---
        const reportData = {
            trends: [
                {
                    id: 'neomorphic',
                    title: 'Neomorphic Tactility 2.0',
                    desc: 'A shift away from flat design towards soft, haptic-like visuals. This uses subtle shadows and light to create depth that signals interactivity, crucial for Spatial Web readiness.',
                    driver: 'AR/VR Readiness',
                    value: 'Higher Click Confidence',
                    tags: ['Soft Shadows', 'Concave/Convex', 'Low Contrast'],
                    stats: [80, 90, 60, 85, 70],
                    // CSS Visual Representation
                    snippetHTML: `
                        <div class="flex flex-col items-center justify-center gap-6 w-full max-w-sm">
                            <div class="relative w-full h-32 bg-[#E0E5EC] rounded-xl flex items-center justify-evenly shadow-inner p-4">
                                <!-- Convex Button -->
                                <div class="w-16 h-16 rounded-xl bg-[#E0E5EC] shadow-[6px_6px_12px_#b8b9be,-6px_-6px_12px_#ffffff] flex items-center justify-center text-stone-500">
                                    <span class="text-2xl font-bold">+</span>
                                </div>
                                <!-- Concave Display -->
                                <div class="w-32 h-12 rounded-full bg-[#E0E5EC] shadow-[inset_6px_6px_12px_#b8b9be,inset_-6px_-6px_12px_#ffffff] flex items-center justify-center text-xs font-semibold text-stone-500 tracking-wide">
                                    ACTIVE
                                </div>
                            </div>
                            <span class="text-xs text-stone-400 font-mono">CSS: box-shadow (inset & drop)</span>
                        </div>
                    `
                },
                {
                    id: 'bento',
                    title: 'Fluid Bento Grids',
                    desc: 'The "Bento Box" layout dominates, but in 2025 it is fully fluid. Content blocks resize dynamically based on importance and AI-determined user intent.',
                    driver: 'Content Density',
                    value: 'Modular Scalability',
                    tags: ['Grid', 'Dynamic Sizing', 'Card UI'],
                    stats: [70, 95, 50, 90, 95],
                    snippetHTML: `
                        <div class="w-full max-w-sm aspect-video bg-white p-2 rounded-xl shadow-sm border border-stone-200">
                            <div class="grid grid-cols-4 grid-rows-3 gap-2 h-full">
                                <div class="col-span-2 row-span-2 bg-stone-100 rounded-lg flex items-center justify-center text-xs text-stone-400">Main</div>
                                <div class="col-span-2 bg-[#D97757] rounded-lg opacity-80"></div>
                                <div class="bg-stone-200 rounded-lg"></div>
                                <div class="bg-stone-100 rounded-lg"></div>
                                <div class="col-span-4 bg-stone-800 rounded-lg flex items-center justify-center text-xs text-stone-400">Footer/CTA</div>
                            </div>
                        </div>
                    `
                },
                {
                    id: 'green',
                    title: 'Eco-Minimalism',
                    desc: 'Sustainability is now a primary KPI. Dark mode defaults (on OLED), typography-light designs, and code-splitting are used to minimize carbon footprint.',
                    driver: 'Climate Regulation',
                    value: 'Cost Reduction',
                    tags: ['Dark Mode', 'Monospace', 'Low Res'],
                    stats: [60, 85, 75, 80, 100],
                    snippetHTML: `
                        <div class="w-full max-w-sm h-32 bg-[#1a1a1a] rounded-lg border border-stone-700 p-4 font-mono text-green-400 flex flex-col justify-between shadow-lg">
                            <div class="flex justify-between items-start border-b border-stone-800 pb-2">
                                <span class="text-xs uppercase tracking-widest">Low_Energy_Mode</span>
                                <div class="w-2 h-2 rounded-full bg-green-500 animate-pulse"></div>
                            </div>
                            <div class="space-y-1">
                                <div class="text-xs text-stone-500">Page_Weight: 45kb</div>
                                <div class="text-lg font-bold">CO2: 0.04g</div>
                            </div>
                        </div>
                    `
                },
                {
                    id: 'ai-ui',
                    title: 'Generative UI',
                    desc: 'Interfaces that build themselves. The layout changes based on who is looking at it. An elderly user gets larger text; a power user gets dense data tables.',
                    driver: 'Personalization',
                    value: 'Conversion Rate',
                    tags: ['Adaptive', 'Large Type', 'High Contrast'],
                    stats: [50, 80, 100, 95, 60],
                    snippetHTML: `
                        <div class="w-full max-w-sm bg-white p-4 rounded-xl border-2 border-dashed border-stone-300 flex flex-col gap-3 relative overflow-hidden">
                            <div class="absolute top-0 right-0 bg-blue-100 text-blue-600 text-[10px] px-2 py-1 rounded-bl-lg">Gen_AI Active</div>
                            <div class="h-6 bg-stone-100 rounded w-3/4 animate-pulse"></div>
                            <div class="h-4 bg-stone-50 rounded w-full"></div>
                            <div class="flex gap-2 mt-2">
                                <div class="h-8 bg-stone-800 rounded w-1/3"></div>
                                <div class="h-8 bg-stone-200 rounded w-1/3"></div>
                            </div>
                        </div>
                    `
                },
                {
                    id: 'micro',
                    title: 'Scrollytelling',
                    desc: 'Scrolling triggers complex animations that tell a story. This turns passive reading into active exploration, keeping bounce rates significantly lower.',
                    driver: 'Engagement',
                    value: 'Brand Retention',
                    tags: ['Motion', 'Scroll Triggers', 'Narrative'],
                    stats: [95, 60, 80, 50, 40],
                    snippetHTML: `
                        <div class="w-full max-w-sm h-32 bg-stone-50 rounded-xl border border-stone-200 relative overflow-hidden flex items-center p-6">
                            <div class="absolute right-4 top-4 bottom-4 w-1.5 bg-stone-200 rounded-full">
                                <div class="h-1/3 w-full bg-[#D97757] rounded-full absolute top-8"></div>
                            </div>
                            <div class="space-y-1 z-10">
                                <div class="text-2xl font-bold text-stone-300 transform translate-y-[-10px]">Scroll</div>
                                <div class="text-2xl font-bold text-[#D97757] transform scale-110 origin-left">Reveals</div>
                                <div class="text-2xl font-bold text-stone-300 transform translate-y-[10px]">Story</div>
                            </div>
                        </div>
                    `
                }
            ],
            comparative: {
                retention: {
                    labels: ['Flat Design (2023)', 'Neomorphic (2025)', 'Gen UI (2025)'],
                    data: [120, 180, 310], // Average seconds on site
                    label: 'Avg. Time on Site (Seconds)',
                    color: '#8DA399'
                },
                performance: {
                    labels: ['Flat Design (2023)', 'Neomorphic (2025)', 'Gen UI (2025)'],
                    data: [0.8, 1.2, 2.5], // Load time in seconds
                    label: 'Avg. Interaction to Paint (Seconds)',
                    color: '#D97757'
                }
            },
            devices: {
                labels: ['Mobile', 'Desktop', 'Tablet', 'Spatial/Headset'],
                data: [55, 30, 5, 10],
                colors: ['#2D2A26', '#8DA399', '#D97757', '#E5E5E5']
            }
        };

        // --- 2. STATE MANAGEMENT ---
        let currentTrendIndex = 0;
        let radarChartInstance = null;
        let comparisonChartInstance = null;
        let deviceChartInstance = null;

        // --- 3. INITIALIZATION ---
        document.addEventListener('DOMContentLoaded', () => {
            initTrendList();
            initRadarChart();
            initComparisonChart();
            initDeviceChart();
            updateTrendDetail(0); // Load first trend
        });

        // --- 4. NAVIGATION LOGIC ---
        function navigate(sectionId) {
            document.getElementById(sectionId).scrollIntoView({ behavior: 'smooth' });
            document.querySelectorAll('.nav-btn').forEach(btn => btn.classList.remove('active', 'text-[#D97757]', 'border-b-2'));
            event.target.classList.add('active', 'text-[#D97757]', 'border-b-2');
        }

        // --- 5. TREND SECTION LOGIC ---
        function initTrendList() {
            const listContainer = document.getElementById('trend-list');
            reportData.trends.forEach((trend, index) => {
                const btn = document.createElement('div');
                btn.className = `trend-card p-4 rounded-lg cursor-pointer border border-transparent hover:bg-white hover:shadow-sm ${index === 0 ? 'active' : ''}`;
                btn.innerHTML = `
                    <div class="flex items-center justify-between">
                        <h4 class="font-bold text-stone-700">${trend.title}</h4>
                        <span class="text-xs font-mono text-stone-400">0${index + 1}</span>
                    </div>
                    <p class="text-xs text-stone-500 mt-1 truncate">${trend.desc}</p>
                `;
                btn.onclick = () => {
                    document.querySelectorAll('.trend-card').forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    updateTrendDetail(index);
                };
                listContainer.appendChild(btn);
            });
        }

        function updateTrendDetail(index) {
            const trend = reportData.trends[index];
            
            // Text Updates
            document.getElementById('trend-title').innerText = trend.title;
            document.getElementById('trend-desc').innerText = trend.desc;
            document.getElementById('trend-driver').innerText = trend.driver;
            document.getElementById('trend-value').innerText = trend.value;

            // Visual Snippet Injection
            const previewContainer = document.getElementById('trend-preview');
            previewContainer.innerHTML = trend.snippetHTML;
            
            // Add Fade Animation to snippet
            previewContainer.firstElementChild.classList.add('fade-in-up');

            // Tag Updates
            const tagContainer = document.getElementById('trend-tags');
            tagContainer.innerHTML = '';
            trend.tags.forEach(tag => {
                const span = document.createElement('span');
                span.className = 'px-2 py-1 bg-[#F4F2ED] text-stone-600 text-xs rounded-md font-medium';
                span.innerText = tag;
                tagContainer.appendChild(span);
            });

            // Chart Updates
            if (radarChartInstance) {
                radarChartInstance.data.datasets[0].data = trend.stats;
                radarChartInstance.data.datasets[0].label = trend.title;
                radarChartInstance.update();
            }
        }

        function initRadarChart() {
            const ctx = document.getElementById('trendRadarChart').getContext('2d');
            radarChartInstance = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: ['Aesthetics', 'Functionality', 'Innovation', 'Accessibility', 'Performance'],
                    datasets: [{
                        label: 'Trend Metric',
                        data: [0, 0, 0, 0, 0],
                        backgroundColor: 'rgba(217, 119, 87, 0.2)',
                        borderColor: '#D97757',
                        pointBackgroundColor: '#fff',
                        pointBorderColor: '#D97757',
                        pointHoverBackgroundColor: '#D97757',
                        pointHoverBorderColor: '#fff'
                    }]
                },
                options: {
                    maintainAspectRatio: false,
                    scales: {
                        r: {
                            beginAtZero: true,
                            max: 100,
                            ticks: { display: false },
                            grid: { color: '#E5E5E5' },
                            pointLabels: {
                                font: { family: "'Plus Jakarta Sans', sans-serif", size: 11 },
                                color: '#57534E'
                            }
                        }
                    },
                    plugins: { legend: { display: false } }
                }
            });
        }

        // --- 6. DATA VISUALIZATION LOGIC ---
        function initComparisonChart() {
            const ctx = document.getElementById('comparisonChart').getContext('2d');
            const initialData = reportData.comparative.retention;
            
            comparisonChartInstance = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: initialData.labels,
                    datasets: [{
                        label: initialData.label,
                        data: initialData.data,
                        backgroundColor: initialData.color,
                        borderRadius: 6,
                        barThickness: 40
                    }]
                },
                options: {
                    maintainAspectRatio: false,
                    responsive: true,
                    plugins: {
                        legend: { display: true, position: 'bottom', labels: { boxWidth: 10 } },
                        tooltip: {
                            backgroundColor: '#2D2A26',
                            padding: 10,
                            bodyFont: { family: "'Plus Jakarta Sans', sans-serif" }
                        }
                    },
                    scales: {
                        y: { beginAtZero: true, grid: { display: false } },
                        x: { grid: { display: false } }
                    }
                }
            });
        }

        function updateDataView(type) {
            const buttons = document.querySelectorAll('.data-filter-btn');
            buttons.forEach(btn => {
                if(btn.innerText.toLowerCase().includes(type === 'retention' ? 'retention' : 'performance')) {
                    btn.classList.add('bg-[#F4F2ED]', 'text-stone-800');
                    btn.classList.remove('text-stone-500');
                } else {
                    btn.classList.remove('bg-[#F4F2ED]', 'text-stone-800');
                    btn.classList.add('text-stone-500');
                }
            });

            const newData = reportData.comparative[type];
            comparisonChartInstance.data.datasets[0].data = newData.data;
            comparisonChartInstance.data.datasets[0].label = newData.label;
            comparisonChartInstance.data.datasets[0].backgroundColor = newData.color;
            comparisonChartInstance.update();
        }

        function initDeviceChart() {
            const ctx = document.getElementById('deviceChart').getContext('2d');
            deviceChartInstance = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: reportData.devices.labels,
                    datasets: [{
                        data: reportData.devices.data,
                        backgroundColor: reportData.devices.colors,
                        borderWidth: 0,
                        hoverOffset: 4
                    }]
                },
                options: {
                    maintainAspectRatio: false,
                    cutout: '70%',
                    plugins: {
                        legend: { position: 'right', labels: { usePointStyle: true, boxWidth: 8, font: { size: 11 } } }
                    }
                }
            });
        }
    </script>
</body>
</html>
